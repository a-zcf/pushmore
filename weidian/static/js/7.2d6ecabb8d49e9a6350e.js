webpackJsonp([7],{"/Jjw":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("P9l9"),i={name:"commodityadmin",data:function(){return{checked:0,states:!1,result:[],list:[],supplierId:0,keeperOpenid:"",mescroll:null,mescrollDown:{use:!1},mescrollUp:{callback:this.upCallback,noMoreSize:1,page:{num:1,size:10,time:null},empty:{warpId:"mescroll",tip:"暂无相关数据"},htmlNodata:'<p class="upwarp-nodata">-- 已加载完 --</p>',htmlLoading:'<p class="upwarp-progress mescroll-rotate"></p><p class="upwarp-tip">加载中...</p>'}}},mounted:function(){var n=this.getUrlSplit("keeperOpenid"),e=this.getUrlSplit("suplierId");this.keeperOpenid=""!=n&&null!=n&&void 0!==n?n:"",""!=e&&null!=e&&void 0!==e?(window.localStorage.removeItem("supplierId"),window.localStorage.setItem("supplierId",e),this.supplierId=e):(e=window.localStorage.getItem("supplierId"),this.supplierId=""!=e&&null!=e&&void 0!==e?e:1),this.mescroll.resetUpScroll()},methods:{getUrlSplit:function(n){for(var e=window.location.href.split("?")[1].split("&"),t=0;t<e.length;t++){var s=e[t].split("=");if(s[0]==n)return s[1]}return null},mescrollInit:function(n){this.mescroll=n},upCallback:function(n,e){var t=this,i={pageNum:n.num,pageSize:n.size,supplierId:this.supplierId,keeperOpenid:this.keeperOpenid};this.$getRequest(s.getGoodsList,i).then(function(e){if(0===e.data.code){for(var s=e.data.page.list,i=0;i<s.length;i++)1===s[i].showFlag&&t.result.push(s[i].id);1===n.num&&(t.list=[]),t.list=t.list.concat(s),t.$nextTick(function(){t.mescroll.endSuccess(s.length)})}else t.mescroll.endErr()})},togg:function(){this.states=0==this.states},toggleAll:function(){var n=this;if(n.states=0==n.states,n.result.length>3)return n.$toast.fail("不能超过3个商品数量哦！"),n.states=!0,!1;if(0==n.states){for(var e=[],t=0;t<n.result.length;t++)e.push(1);var i={showFlag:e,spuIds:n.result,supplierId:n.supplierId,keeperOpenid:n.keeperOpenid};n.$postRequest(s.saveShowsmokeGoodList,i).then(function(e){0===e.data.code?n.$toast("保存成功！"):n.$toast.fail(e.data.msg)})}},clickChecked:function(n){1==this.$refs.checkboxes[n].checked&&this.result.length>3&&this.$dialog.alert({title:"提示",message:"不能超过3个商品数量哦！"}).then(function(){})}}},l=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"commodityadmin"},[t("mescroll-vue",{ref:"mescroll",attrs:{down:n.mescrollDown,up:n.mescrollUp,id:"mescroll"},on:{init:n.mescrollInit}},[t("div",{staticClass:"edit-preservation"},[t("span",{staticClass:"edit-prese-text",on:{click:function(e){0==n.states?n.togg():n.toggleAll()}}},[n._v(n._s(0==n.states?"编辑":"保存"))])]),n._v(" "),t("ul",[t("van-checkbox-group",{staticClass:"ul",attrs:{max:3},model:{value:n.result,callback:function(e){n.result=e},expression:"result"}},n._l(n.list,function(e,s){return t("li",{key:s},[t("div",{staticClass:"img-checkbox"},[t("van-checkbox",{directives:[{name:"show",rawName:"v-show",value:n.states,expression:"states"}],ref:"checkboxes",refInFor:!0,staticClass:"checked",attrs:{name:e.id,shape:"square"},on:{click:function(e){return n.clickChecked(s)}}}),n._v(" "),t("img",{staticClass:"comm-img",attrs:{src:e.img}})],1),n._v(" "),t("div",{staticClass:"comm-info"},[t("span",{staticClass:"comm-name"},[n._v(n._s(e.title))]),n._v(" "),t("span",{staticClass:"comm-price"},[n._v("￥"+n._s(e.price))])])])}),0)],1)])],1)};l._withStripped=!0;var o={render:l,staticRenderFns:[]},a=o;var r=!1;var c=t("VU/8")(i,a,!1,function(n){r||t("39CB")},null,null);c.options.__file="src/views/commodityadmin/commodityadmin.vue";e.default=c.exports},"39CB":function(n,e,t){var s=t("bku7");"string"==typeof s&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals);t("rjj0")("1ef07f15",s,!1,{})},bku7:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"commodityadmin.vue",sourceRoot:""}])}});
//# sourceMappingURL=7.2d6ecabb8d49e9a6350e.js.map